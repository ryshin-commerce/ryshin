"use strict";var selectTheme;function init(){selectTheme=document.getElementById("selectTheme")}!function(d){var i="unobtrusiveAjaxClick",u="unobtrusiveAjaxClickTarget";function c(t,e){for(var a=window,n=(t||"").split(".");a&&n.length;)a=a[n.shift()];return"function"==typeof a?a:(e.push(t),Function.constructor.apply(null,e))}function s(t){return"GET"===t||"POST"===t}function o(u,t){var e,r,i,o;if(!(e=u.getAttribute("data-ajax-confirm"))||window.confirm(e)){r=d(u.getAttribute("data-ajax-loading")),o=parseInt(u.getAttribute("data-ajax-loading-duration"),10)||0,d.extend(t,{type:u.getAttribute("data-ajax-method")||void 0,url:u.getAttribute("data-ajax-url")||void 0,cache:"true"===(u.getAttribute("data-ajax-cache")||"").toLowerCase(),beforeSend:function(t){var e,a,n;return a=t,s(n=i)||a.setRequestHeader("X-HTTP-Method-Override",n),!1!==(e=c(u.getAttribute("data-ajax-begin"),["xhr"]).apply(u,arguments))&&r.show(o),e},complete:function(){r.hide(o),c(u.getAttribute("data-ajax-complete"),["xhr","status"]).apply(u,arguments)},success:function(t,e,a){var n,r,i;n=u,r=t,-1===(a.getResponseHeader("Content-Type")||"text/html").indexOf("application/x-javascript")&&(i=(n.getAttribute("data-ajax-mode")||"").toUpperCase(),d(n.getAttribute("data-ajax-update")).each(function(t,e){switch(i){case"BEFORE":d(e).prepend(r);break;case"AFTER":d(e).append(r);break;case"REPLACE-WITH":d(e).replaceWith(r);break;default:d(e).html(r)}})),c(u.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(u,arguments)},error:function(){c(u.getAttribute("data-ajax-failure"),["xhr","status","error"]).apply(u,arguments)}}),t.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),i=t.type.toUpperCase(),t.data instanceof FormData?(t.processData=!1,t.contentType=!1,t.data.append("X-Requested-With","XMLHttpRequest"),s(i)||(t.type="POST",t.data.append("X-HTTP-Method-Override",i))):(t.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),s(i)||(t.type="POST",t.data.push({name:"X-HTTP-Method-Override",value:i})));var a=d(u);if(a.is("form")&&"multipart/form-data"==a.attr("enctype")){var n=new FormData;d.each(t.data,function(t,e){n.append(e.name,e.value)}),d("input[type=file]",a).each(function(){var a=this;d.each(a.files,function(t,e){n.append(a.name,e)})}),d.extend(t,{processData:!1,contentType:!1,data:n})}d.ajax(t)}}d(document).on("click","a[data-ajax=true]",function(t){t.preventDefault(),o(this,{url:this.href,type:"GET",data:[]})}),d(document).on("click","form[data-ajax=true] input[type=image]",function(t){var e=t.target.name,a=d(t.target),n=d(a.parents("form")[0]),r=a.offset();n.data(i,[{name:e+".x",value:Math.round(t.pageX-r.left)},{name:e+".y",value:Math.round(t.pageY-r.top)}]),setTimeout(function(){n.removeData(i)},0)}),d(document).on("click","form[data-ajax=true] :submit",function(t){var e=t.currentTarget.name,a=d(t.target),n=d(a.parents("form")[0]);n.data(i,e?[{name:e,value:t.currentTarget.value}]:[]),n.data(u,a),setTimeout(function(){n.removeData(i),n.removeData(u)},0)}),d(document).on("submit","form[data-ajax=true]",function(t){var e,a=d(this).data(i)||[],n=d(this).data(u),r=n&&n.hasClass("cancel");(t.preventDefault(),r||(!(e=d(this).data("unobtrusiveValidation"))||!e.validate||e.validate()))&&(this.enctype&&"multipart/form-data"===this.enctype?new FormData(this):a.concat(d(this).serializeArray()),o(this,{url:this.action,type:this.method||"GET",data:a.concat(d(this).serializeArray())}))})}(jQuery),document.addEventListener("DOMContentLoaded",function(){init(),Site.BindingSelectAutoSubmit(),selectTheme.dispatchEvent(new Site.CreateEvent("change"))});