"use strict";function TabPages(){this.Extend=function(t,e,a){var n=t.dataset.activeTabNumber;this.SelectedTabNumber=+n||-1,this.NavElement=t,this.Tabs=e,this.TabContains=a,this.Process()},this.Process=function(){for(var n=this,t=0;t<this.Tabs.length;t++)this.Tabs[t].addEventListener("click",function(t){if(t.currentTarget.dataset.tabUrl&&history.replaceState(null,null,t.currentTarget.dataset.tabUrl),n.SelectedTabNumber=+t.currentTarget.dataset.tab||-1,n.NavElement.dataset.activeTabNumber=n.SelectedTabNumber,Site.BeLazyRevalidate(),t.currentTarget.dataset.callback){for(var e=null,a=0;a<n.TabContains.length;a++)if(n.TabContains[a].dataset.tabContent===t.currentTarget.dataset.tab){e=n.TabContains[a];break}Site.GetFunction(t.currentTarget.dataset.callback,["tabNumber","tabContainerElement"]).apply(t.currentTarget,[n.SelectedTabNumber,e])}})},this.Init=function(t){var e=document.querySelector(t),a=e.parentNode.querySelectorAll("[data-tab]"),n=e.parentNode.querySelectorAll("[data-tab-content]");this.Extend(e,a,n)}}function TabPages(){this.Extend=function(t,e,a){var n=t.dataset.activeTabNumber;this.SelectedTabNumber=+n||-1,this.NavElement=t,this.Tabs=e,this.TabContains=a,this.Process()},this.Process=function(){for(var n=this,t=0;t<this.Tabs.length;t++)this.Tabs[t].addEventListener("click",function(t){if(t.currentTarget.dataset.tabUrl&&history.replaceState(null,null,t.currentTarget.dataset.tabUrl),n.SelectedTabNumber=+t.currentTarget.dataset.tab||-1,n.NavElement.dataset.activeTabNumber=n.SelectedTabNumber,Site.BeLazyRevalidate(),t.currentTarget.dataset.callback){for(var e=null,a=0;a<n.TabContains.length;a++)if(n.TabContains[a].dataset.tabContent===t.currentTarget.dataset.tab){e=n.TabContains[a];break}Site.GetFunction(t.currentTarget.dataset.callback,["tabNumber","tabContainerElement"]).apply(t.currentTarget,[n.SelectedTabNumber,e])}})},this.Init=function(t){var e=document.querySelector(t),a=e.parentNode.querySelectorAll("[data-tab]"),n=e.parentNode.querySelectorAll("[data-tab-content]");this.Extend(e,a,n)}}var content1,content2,btnCancel,btnSubmitPlaceId,btnSubmitAvarta,avartaInputFile,base64Image,imgAvarta;function initUserProfileIndex(){content1=document.getElementById("content1"),content2=document.getElementById("content2"),btnCancel=document.getElementById("btnCancel"),btnSubmitPlaceId=document.getElementById("btnSubmitPlaceId"),btnSubmitAvarta=document.getElementById("btnSubmitAvarta"),avartaInputFile=document.getElementById("avartaUpload"),base64Image=document.getElementById("base64Image"),imgAvarta=document.getElementById("imgAvarta")}function loadCleave(){var t=document.getElementById("BasicUserInfoViewModel_PhoneNumber");new Cleave(t,{prefix:"84",numericOnly:!0,delimiters:[" "," "," "," "],blocks:[2,3,3,5]}),new Cleave("#BasicUserInfoViewModel_Birthday",{date:!0,datePattern:["d","m","Y"]})}function loadAvarta(){var t=document.getElementById("resizeContainer"),a=new Croppie(t,{viewport:{width:80,height:80},boundary:{width:160,height:120},showZoomer:!0,enableResize:!1,enableOrientation:!0});avartaInputFile.addEventListener("change",function(t){if(t.target.files&&t.target.files[0]){var e=new FileReader;e.onload=function(t){content1.classList.add("hide"),content2.classList.remove("hide"),a.bind({url:t.target.result})},e.readAsDataURL(t.target.files[0])}}),btnCancel.addEventListener("click",function(t){content1.classList.remove("hide"),content2.classList.add("hide")}),btnSubmitAvarta.addEventListener("click",function(t){a.result("base64").then(function(t){base64Image.value=t})})}function ChangeAvarta(t,e){"success"===e&&(imgAvarta.src=t+"?clearcache="+(new Date).getTime(),btnCancel.click())}document.addEventListener("DOMContentLoaded",function(){initUserProfileIndex(),loadCleave(),loadAvarta()});